{
  "openapi": "3.0.0",
  "paths": {
    "/api/v1/auth/login": {
      "post": {
        "description": "Đăng nhập tài khoản người dùng",
        "operationId": "AuthController_login_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseAuthDto"
                }
              }
            }
          }
        },
        "summary": "Login user",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "description": "Đăng ký tài khoản mới",
        "operationId": "AuthController_register_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Đăng ký thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseAuthDto"
                }
              }
            }
          }
        },
        "summary": "Register user",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "description": "Cấp lại access token từ refresh token",
        "operationId": "AuthController_refreshToken_v1",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Refresh token thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseAuthDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Refresh token",
        "tags": [
          "Auth"
        ]
      }
    },
    "/api/v1/user/new-password": {
      "post": {
        "operationId": "UserController_updateNewPassword_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tạo mật khẩu mới thành công"
          }
        },
        "summary": "Tạo mật khẩu mới",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/change-password": {
      "post": {
        "operationId": "UserController_changePassword_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "Email của người dùng"
                  },
                  "oldPassword": {
                    "type": "string",
                    "description": "Mật khẩu cũ"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "Mật khẩu mới"
                  }
                },
                "required": [
                  "email",
                  "oldPassword",
                  "newPassword"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Đổi mật khẩu thành công"
          },
          "401": {
            "description": "Mật khẩu cũ không đúng"
          },
          "404": {
            "description": "Không tìm thấy người dùng"
          }
        },
        "summary": "Đổi mật khẩu",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/profile": {
      "get": {
        "operationId": "UserController_getCurrentUserProfile_v1",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Lấy thông tin profile thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseProfileDto"
                }
              }
            }
          }
        },
        "summary": "Lấy thông tin profile của người dùng hiện tại",
        "tags": [
          "User"
        ]
      },
      "put": {
        "operationId": "UserController_updateCurrentUserProfile_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProfileDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cập nhật profile thành công"
          }
        },
        "summary": "Cập nhật thông tin profile của người dùng hiện tại",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/{userId}/profile": {
      "get": {
        "operationId": "UserController_getUserProfile_v1",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "ID của người dùng",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy thông tin profile thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseProfileDto"
                }
              }
            }
          }
        },
        "summary": "Lấy thông tin profile của người dùng theo ID",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/avatar-image": {
      "post": {
        "operationId": "UserController_uploadAvatarImage_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Avatar image upload",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Upload avatar image successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "success": true,
                    "data": {
                      "asset_id": "some-asset-id",
                      "public_id": "some-public-id",
                      "url": "https://res.cloudinary.com/..."
                    },
                    "message": "Tải lên tệp tin thành công"
                  }
                }
              }
            }
          }
        },
        "summary": "Upload avatar image for current user",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/cover-image": {
      "post": {
        "operationId": "UserController_uploadCoverImage_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Cover image upload",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Upload cover image successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "success": true,
                    "data": {
                      "asset_id": "some-asset-id",
                      "public_id": "some-public-id",
                      "url": "https://res.cloudinary.com/..."
                    },
                    "message": "Tải lên tệp tin thành công"
                  }
                }
              }
            }
          }
        },
        "summary": "Upload cover image for current user",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/all-sport": {
      "get": {
        "operationId": "UserController_getSports_v1",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Danh sách tất cả các môn thể thao",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "football",
                      "basketball",
                      "tennis",
                      "badminton",
                      "volleyball",
                      "table_tennis",
                      "swimming",
                      "running",
                      "cycling",
                      "yoga",
                      "gym",
                      "martial_arts",
                      "boxing",
                      "golf",
                      "rock_climbing"
                    ]
                  }
                }
              }
            }
          }
        },
        "summary": "Lấy danh sách tất cả các môn thể thao",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/skills": {
      "put": {
        "operationId": "UserController_updateSkillLevels_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Skill levels",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "skillLevels": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string",
                      "enum": [
                        "beginner",
                        "intermediate",
                        "advanced",
                        "professional"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cập nhật skill levels thành công"
          }
        },
        "summary": "Cập nhật trình độ kỹ năng cho từng môn thể thao",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/favorite-sport/{sportType}": {
      "delete": {
        "operationId": "UserController_removeFavoriteSport_v1",
        "parameters": [
          {
            "name": "sportType",
            "required": true,
            "in": "path",
            "description": "Tên môn thể thao cần xóa",
            "schema": {
              "enum": [
                "football",
                "basketball",
                "tennis",
                "badminton",
                "volleyball",
                "table_tennis",
                "swimming",
                "running",
                "cycling",
                "yoga",
                "gym",
                "martial_arts",
                "boxing",
                "golf",
                "rock_climbing"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Xóa môn thể thao yêu thích thành công"
          }
        },
        "summary": "Xóa 1 môn thể thao khỏi danh sách yêu thích và skillLevels",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/friends/search": {
      "get": {
        "operationId": "UserController_getFriendsByName_v1",
        "parameters": [
          {
            "name": "key",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": true,
            "in": "query",
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Danh sách bạn bè phù hợp",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/FriendSimpleDto"
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Tìm kiếm bạn bè theo tên (fullname, không phân biệt hoa thường, có phân trang)",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/user/{userId}/basic-info": {
      "get": {
        "operationId": "UserController_getUserBasicInfo_v1",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "ID của người dùng",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy thông tin cơ bản thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserBasicInfoDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy người dùng"
          }
        },
        "summary": "Lấy thông tin cơ bản của người dùng theo ID",
        "tags": [
          "User"
        ]
      }
    },
    "/api/v1/file/upload": {
      "post": {
        "operationId": "FileController_uploadFile_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "File upload",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Upload file successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "success": true,
                    "data": {
                      "asset_id": "some-asset-id",
                      "public_id": "some-public-id",
                      "url": "https://res.cloudinary.com/..."
                    },
                    "message": "File uploaded successfully"
                  }
                }
              }
            }
          }
        },
        "summary": "Upload file",
        "tags": [
          "File"
        ]
      }
    },
    "/api/v1/file/upload-multiple": {
      "post": {
        "operationId": "FileController_uploadMultipleFiles_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Multiple file upload",
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Upload multiple files successfully",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "success": true,
                    "data": [
                      {
                        "asset_id": "some-asset-id",
                        "public_id": "some-public-id",
                        "url": "https://res.cloudinary.com/..."
                      }
                    ],
                    "message": "Files uploaded successfully"
                  }
                }
              }
            }
          }
        },
        "summary": "Upload multiple files",
        "tags": [
          "File"
        ]
      }
    },
    "/api/v1/email/send-otp": {
      "post": {
        "description": "Gửi mã OTP đến email người dùng",
        "operationId": "EmailController_sendOTP_v1",
        "parameters": [
          {
            "name": "accept-language",
            "in": "header",
            "description": "Ngôn ngữ (en hoặc vi) - Có thể dùng header này hoặc query parameter ?lang=en",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "to": {
                    "type": "string",
                    "example": "user@example.com",
                    "description": "Email nhận OTP"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP đã được gửi thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseEmailDto"
                }
              }
            }
          }
        },
        "summary": "Send OTP",
        "tags": [
          "Email"
        ]
      }
    },
    "/api/v1/email/verify-otp": {
      "post": {
        "description": "Xác thực OTP",
        "operationId": "EmailController_verifyOtp_v1",
        "parameters": [
          {
            "name": "accept-language",
            "in": "header",
            "description": "Ngôn ngữ (en hoặc vi) - Có thể dùng header này hoặc query parameter ?lang=en",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "user@example.com",
                    "description": "Email nhận OTP"
                  },
                  "otp": {
                    "type": "string",
                    "example": "123456",
                    "description": "OTP"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP đã được xác thực thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseEmailDto"
                }
              }
            }
          }
        },
        "summary": "Verify OTP",
        "tags": [
          "Email"
        ]
      }
    },
    "/api/v1/posts": {
      "post": {
        "operationId": "PostController_createPost_v1",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tạo bài đăng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          }
        },
        "summary": "Tạo bài đăng mới",
        "tags": [
          "Post"
        ]
      },
      "get": {
        "operationId": "PostController_getNewsfeed_v1",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng bài đăng trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sport",
            "required": false,
            "in": "query",
            "description": "Lọc theo môn thể thao",
            "schema": {
              "enum": [
                "football",
                "basketball",
                "tennis",
                "badminton",
                "volleyball",
                "table_tennis",
                "swimming",
                "running",
                "cycling",
                "yoga",
                "gym",
                "martial_arts",
                "boxing",
                "golf",
                "rock_climbing"
              ],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách bài đăng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPostsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Lấy danh sách bài đăng (newsfeed) của user hiện tại",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/all": {
      "get": {
        "operationId": "PostController_getAllPosts_v1",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng bài đăng trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sport",
            "required": false,
            "in": "query",
            "description": "Lọc theo môn thể thao",
            "schema": {
              "enum": [
                "football",
                "basketball",
                "tennis",
                "badminton",
                "volleyball",
                "table_tennis",
                "swimming",
                "running",
                "cycling",
                "yoga",
                "gym",
                "martial_arts",
                "boxing",
                "golf",
                "rock_climbing"
              ],
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "description": "Lọc theo ID người dùng",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy tất cả bài đăng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPostsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Lấy tất cả bài đăng",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/{postId}": {
      "get": {
        "operationId": "PostController_getPostById_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy thông tin bài đăng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Lấy thông tin chi tiết bài đăng theo ID",
        "tags": [
          "Post"
        ]
      },
      "put": {
        "operationId": "PostController_updatePost_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePostDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cập nhật bài đăng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền chỉnh sửa bài đăng này"
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Cập nhật bài đăng",
        "tags": [
          "Post"
        ]
      },
      "delete": {
        "operationId": "PostController_deletePost_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Xóa bài đăng thành công"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền xóa bài đăng này"
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Xóa bài đăng",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/user/{userId}": {
      "get": {
        "operationId": "PostController_getPostsByUserId_v1",
        "parameters": [
          {
            "name": "userId",
            "required": true,
            "in": "path",
            "description": "ID của người dùng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng bài đăng trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách bài đăng của người dùng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPostsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Lấy danh sách bài đăng của người dùng theo ID",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/hashtags/trending": {
      "get": {
        "operationId": "PostController_getTrendingHashtags_v1",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng hashtag trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "timeRange",
            "required": false,
            "in": "query",
            "description": "Khoảng thời gian (7d, 30d, 90d, all)",
            "schema": {
              "example": "7d",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách hashtag trending thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrendingHashtagsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Lấy danh sách hashtag trending",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/hashtags/{hashtag}/posts": {
      "get": {
        "operationId": "PostController_getPostsByHashtag_v1",
        "parameters": [
          {
            "name": "hashtag",
            "required": true,
            "in": "path",
            "description": "Tên hashtag (có thể có hoặc không có dấu #)",
            "schema": {
              "example": "fitness",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng bài đăng trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách bài đăng theo hashtag thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPostsResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy bài đăng với hashtag này"
          }
        },
        "summary": "Lấy danh sách bài đăng theo hashtag",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/{postId}/tag-friends": {
      "put": {
        "operationId": "PostController_tagFriend_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Tag bạn bè (thay thế toàn bộ danh sách)",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "friendIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Danh sách ID người dùng được tag",
                    "example": [
                      "507f1f77bcf86cd799439011",
                      "507f1f77bcf86cd799439012"
                    ]
                  }
                },
                "required": [
                  "friendIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag bạn bè thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền chỉnh sửa bài đăng này"
          }
        },
        "summary": "Tag bạn bè vào bài đăng (thay thế toàn bộ danh sách)",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/{postId}/like": {
      "post": {
        "operationId": "PostController_likePost_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Like thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Đã like hoặc dữ liệu không hợp lệ"
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Like một bài đăng",
        "tags": [
          "Post"
        ]
      },
      "delete": {
        "operationId": "PostController_unlikePost_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bỏ like thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Chưa like hoặc dữ liệu không hợp lệ"
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Bỏ like một bài đăng",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/{postId}/likes": {
      "get": {
        "operationId": "PostController_getPostLikes_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách like thành công",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "success": true,
                    "data": {
                      "likes": [
                        {
                          "userId": "507f1f77bcf86cd799439011",
                          "fullName": "Nguyen Van A",
                          "avatar": "https://..."
                        },
                        {
                          "userId": "507f1f77bcf86cd799439012",
                          "fullName": "Tran Thi B",
                          "avatar": "https://..."
                        }
                      ],
                      "likeCount": 2
                    },
                    "message": "..."
                  }
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Lấy danh sách user đã like bài đăng",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/posts/all/trending": {
      "get": {
        "operationId": "PostController_getTrendingPosts_v1",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sport",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "football",
                "basketball",
                "tennis",
                "badminton",
                "volleyball",
                "table_tennis",
                "swimming",
                "running",
                "cycling",
                "yoga",
                "gym",
                "martial_arts",
                "boxing",
                "golf",
                "rock_climbing"
              ],
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "timeRange",
            "required": false,
            "in": "query",
            "schema": {
              "example": "7d",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách bài đăng trending thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPostsResponseDto"
                }
              }
            }
          }
        },
        "summary": "Lấy danh sách bài đăng trending (nhiều like/comment)",
        "tags": [
          "Post"
        ]
      }
    },
    "/api/v1/comments/posts/{postId}/comments": {
      "post": {
        "operationId": "CommentController_createComment_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Tạo comment mới",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Nội dung comment",
                    "example": "Bài viết rất hay! Cảm ơn bạn đã chia sẻ."
                  },
                  "parentId": {
                    "type": "string",
                    "description": "ID comment cha (cho reply)",
                    "example": "507f1f77bcf86cd799439011"
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tạo comment thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "404": {
            "description": "Không tìm thấy bài đăng hoặc comment cha"
          }
        },
        "summary": "Tạo comment mới cho bài đăng",
        "tags": [
          "Comment"
        ]
      },
      "get": {
        "operationId": "CommentController_getCommentsByPostId_v1",
        "parameters": [
          {
            "name": "postId",
            "required": true,
            "in": "path",
            "description": "ID của bài đăng",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Số trang (mặc định: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Số lượng comment trên mỗi trang (mặc định: 10)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy danh sách comment thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedCommentsResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Không tìm thấy bài đăng"
          }
        },
        "summary": "Lấy danh sách comment của bài đăng",
        "tags": [
          "Comment"
        ]
      }
    },
    "/api/v1/comments/{commentId}": {
      "put": {
        "operationId": "CommentController_updateComment_v1",
        "parameters": [
          {
            "name": "commentId",
            "required": true,
            "in": "path",
            "description": "ID của comment",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Cập nhật comment",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Nội dung comment",
                    "example": "Cập nhật nội dung comment!"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cập nhật comment thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền chỉnh sửa comment này"
          },
          "404": {
            "description": "Không tìm thấy comment"
          }
        },
        "summary": "Cập nhật comment",
        "tags": [
          "Comment"
        ]
      },
      "delete": {
        "operationId": "CommentController_deleteComment_v1",
        "parameters": [
          {
            "name": "commentId",
            "required": true,
            "in": "path",
            "description": "ID của comment",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Xóa comment thành công"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền xóa comment này"
          },
          "404": {
            "description": "Không tìm thấy comment"
          }
        },
        "summary": "Xóa comment",
        "tags": [
          "Comment"
        ]
      }
    },
    "/api/v1/comments/{commentId}/reply": {
      "post": {
        "operationId": "CommentController_createReply_v1",
        "parameters": [
          {
            "name": "commentId",
            "required": true,
            "in": "path",
            "description": "ID của comment cha",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Tạo reply",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Nội dung reply",
                    "example": "Tôi đồng ý với bạn!"
                  }
                },
                "required": [
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tạo reply thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Dữ liệu không hợp lệ"
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "404": {
            "description": "Không tìm thấy comment cha"
          }
        },
        "summary": "Tạo reply cho comment",
        "tags": [
          "Comment"
        ]
      }
    },
    "/api/v1/comments/{commentId}/hidden": {
      "put": {
        "operationId": "CommentController_hideComment_v1",
        "parameters": [
          {
            "name": "commentId",
            "required": true,
            "in": "path",
            "description": "ID của comment",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ẩn comment thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền chỉnh sửa comment này"
          },
          "404": {
            "description": "Không tìm thấy comment"
          }
        },
        "summary": "Ẩn comment",
        "tags": [
          "Comment"
        ]
      }
    },
    "/api/v1/comments/{commentId}/show": {
      "put": {
        "operationId": "CommentController_showComment_v1",
        "parameters": [
          {
            "name": "commentId",
            "required": true,
            "in": "path",
            "description": "ID của comment",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Hiện comment thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Không có quyền truy cập"
          },
          "403": {
            "description": "Không có quyền chỉnh sửa comment này"
          },
          "404": {
            "description": "Không tìm thấy comment"
          }
        },
        "summary": "Hiện comment",
        "tags": [
          "Comment"
        ]
      }
    }
  },
  "info": {
    "title": "API Documentation",
    "description": "Swagger docs for the project",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email của người dùng"
          },
          "password": {
            "type": "string",
            "description": "Mật khẩu của người dùng"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "ResponseAuthDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "Access token trả về sau khi đăng nhập hoặc refresh"
          },
          "refreshToken": {
            "type": "string",
            "description": "Refresh token đi kèm với access token"
          }
        }
      },
      "LocationDto": {
        "type": "object",
        "properties": {
          "city": {
            "type": "string",
            "example": "Hanoi"
          },
          "district": {
            "type": "string",
            "example": "Cau Giay"
          },
          "address": {
            "type": "string",
            "example": "123 Main St"
          }
        }
      },
      "RegisterDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email của người dùng",
            "example": "johndoe@example.com"
          },
          "password": {
            "type": "string",
            "description": "Mật khẩu mạnh (tối thiểu 8 ký tự, 1 số, 1 chữ in hoa, 1 ký tự đặc biệt)",
            "example": "StrongP@ssw0rd"
          },
          "refToken": {
            "type": "string",
            "description": "Refresh Token",
            "example": "..."
          },
          "firstName": {
            "type": "string",
            "description": "Tên",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "Họ",
            "example": "Doe"
          },
          "avatar": {
            "type": "string",
            "description": "Avatar URL",
            "example": "https://..."
          },
          "coverImage": {
            "type": "string",
            "description": "Cover Image URL",
            "example": "https://..."
          },
          "bio": {
            "type": "string",
            "description": "Bio",
            "example": "I love sports!"
          },
          "dateOfBirth": {
            "format": "date-time",
            "type": "string",
            "description": "Ngày sinh",
            "example": "2000-01-01"
          },
          "phone": {
            "type": "string",
            "description": "Số điện thoại",
            "example": "+84987654321"
          },
          "location": {
            "description": "Địa chỉ",
            "allOf": [
              {
                "$ref": "#/components/schemas/LocationDto"
              }
            ]
          },
          "favoritesSports": {
            "type": "array",
            "description": "Danh sách môn thể thao yêu thích",
            "items": {
              "type": "string",
              "enum": [
                "football",
                "basketball",
                "tennis",
                "badminton",
                "volleyball",
                "table_tennis",
                "swimming",
                "running",
                "cycling",
                "yoga",
                "gym",
                "martial_arts",
                "boxing",
                "golf",
                "rock_climbing"
              ]
            }
          },
          "skillLevels": {
            "type": "object",
            "description": "Trình độ kỹ năng theo môn thể thao",
            "example": {
              "football": "beginner",
              "tennis": "advanced"
            },
            "additionalProperties": {
              "type": "string",
              "enum": [
                "beginner",
                "intermediate",
                "advanced",
                "professional"
              ]
            }
          },
          "friends": {
            "description": "Danh sách bạn bè",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "following": {
            "description": "Danh sách đang theo dõi",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "followers": {
            "description": "Danh sách người theo dõi",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "joinedGroups": {
            "description": "Danh sách nhóm đã tham gia",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái hoạt động",
            "example": true
          },
          "isVerified": {
            "type": "boolean",
            "description": "Đã xác thực email",
            "example": false
          },
          "roles": {
            "type": "array",
            "description": "Danh sách role (ADMIN, MODERATOR, USER)",
            "items": {
              "type": "string",
              "enum": [
                "user",
                "admin",
                "moderator"
              ]
            }
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "Map": {
        "type": "object",
        "properties": {}
      },
      "ResponseProfileDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID của người dùng"
          },
          "email": {
            "type": "string",
            "description": "Email của người dùng"
          },
          "firstName": {
            "type": "string",
            "description": "Tên"
          },
          "lastName": {
            "type": "string",
            "description": "Họ"
          },
          "fullName": {
            "type": "string",
            "description": "Tên đầy đủ"
          },
          "avatar": {
            "type": "string",
            "description": "Ảnh đại diện"
          },
          "coverImage": {
            "type": "string",
            "description": "Ảnh bìa"
          },
          "bio": {
            "type": "string",
            "description": "Tiểu sử"
          },
          "dateOfBirth": {
            "format": "date-time",
            "type": "string",
            "description": "Ngày sinh"
          },
          "phone": {
            "type": "string",
            "description": "Số điện thoại"
          },
          "location": {
            "type": "object",
            "description": "Địa chỉ"
          },
          "favoritesSports": {
            "description": "Các môn thể thao yêu thích",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "skillLevels": {
            "description": "Mức độ kỹ năng",
            "allOf": [
              {
                "$ref": "#/components/schemas/Map"
              }
            ]
          },
          "friendsCount": {
            "type": "number",
            "description": "Số lượng bạn bè"
          },
          "followingCount": {
            "type": "number",
            "description": "Số lượng đang theo dõi"
          },
          "followersCount": {
            "type": "number",
            "description": "Số lượng người theo dõi"
          },
          "joinedGroupsCount": {
            "type": "number",
            "description": "Số lượng nhóm đã tham gia"
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái hoạt động"
          },
          "isVerified": {
            "type": "boolean",
            "description": "Trạng thái xác thực"
          },
          "roles": {
            "description": "Vai trò",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Ngày tạo"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Ngày cập nhật"
          }
        },
        "required": [
          "_id",
          "email",
          "firstName",
          "lastName",
          "fullName",
          "friendsCount",
          "followingCount",
          "followersCount",
          "joinedGroupsCount",
          "isActive",
          "isVerified",
          "roles",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "description": "Tên"
          },
          "lastName": {
            "type": "string",
            "description": "Họ"
          },
          "avatar": {
            "type": "string",
            "description": "Ảnh đại diện"
          },
          "coverImage": {
            "type": "string",
            "description": "Ảnh bìa"
          },
          "bio": {
            "type": "string",
            "description": "Tiểu sử"
          },
          "dateOfBirth": {
            "format": "date-time",
            "type": "string",
            "description": "Ngày sinh"
          },
          "phone": {
            "type": "string",
            "description": "Số điện thoại"
          },
          "location": {
            "description": "Địa chỉ",
            "allOf": [
              {
                "$ref": "#/components/schemas/LocationDto"
              }
            ]
          },
          "favoritesSports": {
            "description": "Các môn thể thao yêu thích",
            "type": "array",
            "items": {
              "type": "array"
            }
          },
          "skillLevels": {
            "description": "Mức độ kỹ năng",
            "allOf": [
              {
                "$ref": "#/components/schemas/Map"
              }
            ]
          }
        }
      },
      "UserBasicInfoDto": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "description": "ID của người dùng",
            "example": "685a2443342f516009019c71"
          },
          "fullName": {
            "type": "string",
            "description": "Họ và tên đầy đủ",
            "example": "John Doe"
          },
          "avatar": {
            "type": "object",
            "description": "URL avatar của người dùng",
            "example": "https://example.com/avatar.jpg",
            "nullable": true
          }
        },
        "required": [
          "userId",
          "fullName",
          "avatar"
        ]
      },
      "ResponseEmailDto": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "ID của email đã gửi",
            "example": "abc123"
          },
          "accepted": {
            "description": "Danh sách email gửi thành công",
            "example": [
              "user@example.com"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "rejected": {
            "description": "Danh sách email gửi thất bại",
            "example": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "otp": {
            "type": "string",
            "description": "Mã OTP",
            "example": "123456"
          },
          "otpExpired": {
            "format": "date-time",
            "type": "string",
            "description": "Thời hạn OTP (UTC)",
            "example": "2021-01-01T00:00:00.000Z"
          },
          "timezone": {
            "type": "string",
            "description": "Múi giờ được sử dụng (UTC cho en, GMT+7 cho vi)",
            "example": "UTC",
            "enum": [
              "UTC",
              "GMT+7"
            ]
          },
          "formattedExpiredTime": {
            "type": "string",
            "description": "Thời gian hết hạn được format theo ngôn ngữ và múi giờ địa phương",
            "example": "01/01/2021, 12:00:00 AM",
            "examples": {
              "en": "01/01/2021, 12:00:00 AM",
              "vi": "01/01/2021, 07:00:00"
            }
          }
        },
        "required": [
          "messageId",
          "accepted",
          "rejected"
        ]
      },
      "CreatePostDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Nội dung bài đăng",
            "minLength": 1,
            "maxLength": 2000,
            "example": "Hôm nay tôi đã có một buổi tập tuyệt vời! #fitness #health"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "video",
              "event"
            ],
            "description": "Loại bài đăng",
            "default": "text",
            "example": [
              "text",
              "image",
              "video",
              "event"
            ]
          },
          "sport": {
            "type": "string",
            "enum": [
              "football",
              "basketball",
              "tennis",
              "badminton",
              "volleyball",
              "table_tennis",
              "swimming",
              "running",
              "cycling",
              "yoga",
              "gym",
              "martial_arts",
              "boxing",
              "golf",
              "rock_climbing"
            ],
            "description": "Môn thể thao liên quan",
            "example": "football"
          },
          "approvalStatus": {
            "type": "string",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ],
            "description": "Trạng thái duyệt bài",
            "example": "approved"
          },
          "eventId": {
            "type": "string",
            "description": "ID sự kiện liên quan",
            "example": "507f1f77bcf86cd799439011"
          },
          "groupId": {
            "type": "string",
            "description": "ID nhóm liên quan",
            "example": "507f1f77bcf86cd799439011"
          },
          "taggedUsers": {
            "description": "Danh sách ID người dùng được tag",
            "example": [
              "507f1f77bcf86cd799439011"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "sharedFrom": {
            "type": "string",
            "description": "ID bài đăng được share từ",
            "example": "507f1f77bcf86cd799439011"
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "public",
              "private",
              "protected"
            ],
            "description": "Quyền truy cập bài đăng",
            "default": "public",
            "example": [
              "public",
              "private",
              "protected"
            ]
          }
        },
        "required": [
          "content",
          "type",
          "sport",
          "approvalStatus"
        ]
      },
      "ObjectId": {
        "type": "object",
        "properties": {}
      },
      "PostResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID của bài đăng"
          },
          "author": {
            "description": "ID của tác giả",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "content": {
            "type": "string",
            "description": "Nội dung bài đăng"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "video",
              "event"
            ],
            "description": "Loại bài đăng"
          },
          "images": {
            "description": "Danh sách hình ảnh",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "video": {
            "type": "string",
            "description": "Video URL"
          },
          "eventId": {
            "description": "ID sự kiện liên quan",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "groupId": {
            "description": "ID nhóm liên quan",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "likes": {
            "description": "Danh sách ID người dùng đã like",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ObjectId"
            }
          },
          "hashtags": {
            "description": "Danh sách hashtags",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "taggedUsers": {
            "description": "Danh sách ID người dùng được tag",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ObjectId"
            }
          },
          "sharedFrom": {
            "description": "ID bài đăng được share từ",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "likeCount": {
            "type": "number",
            "description": "Số lượng like"
          },
          "commentCount": {
            "type": "number",
            "description": "Số lượng comment"
          },
          "shareCount": {
            "type": "number",
            "description": "Số lượng share"
          },
          "sport": {
            "type": "string",
            "enum": [
              "football",
              "basketball",
              "tennis",
              "badminton",
              "volleyball",
              "table_tennis",
              "swimming",
              "running",
              "cycling",
              "yoga",
              "gym",
              "martial_arts",
              "boxing",
              "golf",
              "rock_climbing"
            ],
            "description": "Môn thể thao liên quan"
          },
          "approvalStatus": {
            "type": "string",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ],
            "description": "Trạng thái duyệt bài"
          },
          "approvedBy": {
            "description": "ID admin đã duyệt",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "approvedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian duyệt"
          },
          "rejectionReason": {
            "type": "string",
            "description": "Lý do từ chối"
          },
          "rejectedBy": {
            "description": "ID admin đã từ chối",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "rejectedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian từ chối"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian tạo"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian cập nhật"
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "public",
              "private",
              "protected"
            ],
            "description": "Quyền truy cập bài đăng"
          },
          "authorUser": {
            "type": "object",
            "description": "Thông tin tác giả"
          },
          "event": {
            "type": "object",
            "description": "Thông tin sự kiện"
          },
          "group": {
            "type": "object",
            "description": "Thông tin nhóm"
          },
          "sharedFromPost": {
            "type": "object",
            "description": "Thông tin bài đăng được share từ"
          },
          "comments": {
            "description": "Danh sách comment",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "_id",
          "author",
          "content",
          "type",
          "images",
          "likes",
          "hashtags",
          "taggedUsers",
          "likeCount",
          "commentCount",
          "shareCount",
          "sport",
          "approvalStatus",
          "createdAt",
          "updatedAt"
        ]
      },
      "PaginatedPostsResponseDto": {
        "type": "object",
        "properties": {
          "posts": {
            "description": "Danh sách bài đăng",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Tổng số bài đăng"
          },
          "page": {
            "type": "number",
            "description": "Trang hiện tại"
          },
          "limit": {
            "type": "number",
            "description": "Số lượng bài đăng trên mỗi trang"
          },
          "totalPages": {
            "type": "number",
            "description": "Tổng số trang"
          },
          "hasNextPage": {
            "type": "boolean",
            "description": "Có trang tiếp theo không"
          },
          "hasPrevPage": {
            "type": "boolean",
            "description": "Có trang trước không"
          }
        },
        "required": [
          "posts",
          "total",
          "page",
          "limit",
          "totalPages",
          "hasNextPage",
          "hasPrevPage"
        ]
      },
      "UpdatePostDto": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Nội dung bài đăng",
            "minLength": 1,
            "maxLength": 2000,
            "example": "Hôm nay tôi đã có một buổi tập tuyệt vời! #fitness #health"
          },
          "sport": {
            "type": "string",
            "enum": [
              "football",
              "basketball",
              "tennis",
              "badminton",
              "volleyball",
              "table_tennis",
              "swimming",
              "running",
              "cycling",
              "yoga",
              "gym",
              "martial_arts",
              "boxing",
              "golf",
              "rock_climbing"
            ],
            "description": "Môn thể thao liên quan",
            "example": "football"
          },
          "eventId": {
            "type": "string",
            "description": "ID sự kiện liên quan",
            "example": "507f1f77bcf86cd799439011"
          },
          "groupId": {
            "type": "string",
            "description": "ID nhóm liên quan",
            "example": "507f1f77bcf86cd799439011"
          },
          "taggedUsers": {
            "description": "Danh sách ID người dùng được tag",
            "example": [
              "507f1f77bcf86cd799439011"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "public",
              "private",
              "protected"
            ],
            "description": "Quyền truy cập bài đăng",
            "default": "public"
          },
          "oldUrls": {
            "description": "Các url cũ",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "HashtagTrendingDto": {
        "type": "object",
        "properties": {
          "hashtag": {
            "type": "string",
            "description": "Tên hashtag"
          },
          "postCount": {
            "type": "number",
            "description": "Số lượng bài đăng sử dụng hashtag này"
          },
          "usageCount": {
            "type": "number",
            "description": "Tổng số lượt sử dụng hashtag này"
          }
        },
        "required": [
          "hashtag",
          "postCount",
          "usageCount"
        ]
      },
      "TrendingHashtagsResponseDto": {
        "type": "object",
        "properties": {
          "hashtags": {
            "description": "Danh sách hashtag trending",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HashtagTrendingDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Tổng số hashtag"
          },
          "page": {
            "type": "number",
            "description": "Trang hiện tại"
          },
          "limit": {
            "type": "number",
            "description": "Số lượng hashtag trên mỗi trang"
          },
          "totalPages": {
            "type": "number",
            "description": "Tổng số trang"
          },
          "hasNextPage": {
            "type": "boolean",
            "description": "Có trang tiếp theo không"
          },
          "hasPrevPage": {
            "type": "boolean",
            "description": "Có trang trước không"
          }
        },
        "required": [
          "hashtags",
          "total",
          "page",
          "limit",
          "totalPages",
          "hasNextPage",
          "hasPrevPage"
        ]
      },
      "CommentResponseDto": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "ID của comment"
          },
          "postId": {
            "description": "ID của bài đăng",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "author": {
            "description": "ID của tác giả",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "content": {
            "type": "string",
            "description": "Nội dung comment"
          },
          "parentId": {
            "description": "ID comment cha (cho reply)",
            "allOf": [
              {
                "$ref": "#/components/schemas/ObjectId"
              }
            ]
          },
          "likes": {
            "description": "Danh sách ID người dùng đã like",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ObjectId"
            }
          },
          "isActive": {
            "type": "boolean",
            "description": "Trạng thái hoạt động"
          },
          "isHidden": {
            "type": "boolean",
            "description": "Trạng thái ẩn"
          },
          "likeCount": {
            "type": "number",
            "description": "Số lượng like"
          },
          "replyCount": {
            "type": "number",
            "description": "Số lượng reply"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian tạo"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Thời gian cập nhật"
          },
          "authorUser": {
            "type": "object",
            "description": "Thông tin tác giả",
            "example": {
              "_id": "685a2443342f516009019c71",
              "firstName": "John",
              "lastName": "Doe",
              "avatar": "https://example.com/avatar.jpg",
              "fullName": "John Doe"
            }
          },
          "post": {
            "type": "object",
            "description": "Thông tin bài đăng",
            "example": {
              "_id": "6864972223c53bb8ca77e453",
              "content": "bạn bè của 123 và tôi đã có một buổi tập tuyệt vời! #fitness #health"
            }
          },
          "parentComment": {
            "type": "object",
            "description": "Thông tin comment cha",
            "example": {
              "_id": "507f1f77bcf86cd799439011",
              "content": "Comment cha",
              "author": "507f1f77bcf86cd799439013"
            }
          },
          "replies": {
            "description": "Danh sách reply",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommentResponseDto"
            }
          }
        },
        "required": [
          "_id",
          "postId",
          "author",
          "content",
          "likes",
          "isActive",
          "isHidden",
          "likeCount",
          "replyCount",
          "createdAt",
          "updatedAt"
        ]
      },
      "PaginatedCommentsResponseDto": {
        "type": "object",
        "properties": {
          "comments": {
            "description": "Danh sách comment",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommentResponseDto"
            }
          },
          "total": {
            "type": "number",
            "description": "Tổng số comment"
          },
          "page": {
            "type": "number",
            "description": "Trang hiện tại"
          },
          "limit": {
            "type": "number",
            "description": "Số lượng comment trên mỗi trang"
          },
          "totalPages": {
            "type": "number",
            "description": "Tổng số trang"
          },
          "hasNextPage": {
            "type": "boolean",
            "description": "Có trang tiếp theo không"
          },
          "hasPrevPage": {
            "type": "boolean",
            "description": "Có trang trước không"
          }
        },
        "required": [
          "comments",
          "total",
          "page",
          "limit",
          "totalPages",
          "hasNextPage",
          "hasPrevPage"
        ]
      }
    }
  }
}